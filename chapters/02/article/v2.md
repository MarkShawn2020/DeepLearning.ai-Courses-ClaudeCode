

# 吴恩达 Claude Code 教程 02：揭秘 AI 编程助理的核心机制

欢迎回到由我们（手工川）为大家搬运并解读的 DeepLearning.AI 与 Anthropic 官方合作课程——**Claude Code: A Highly Agentic Coding Assistant**。

在 [上一期](https://mp.weixin.qq.com/s/wcAOpNHjngxyXdg2NV2kQg) 中，我们对课程进行了总体介绍。今天，我们将跟随 Anthropic 的 Elie Schoppik，深入探讨 Claude Code 的核心工作理念，并亲手完成第一个由 AI 构建的可视化项目。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/3f9021a06982247afd8d0996319c5e1a.png?x-oss-process=image/quality,q_90/rotate,0)

## 什么是智能体化编程助理？

当我们谈论 **“智能体系统” (Agentic Systems)** 时，我们实际上是在讨论一个由 **模型 (Model)**、**工具集 (Tools)** 和 **执行环境 (Environment)** 协同工作的系统。

传统的语言模型擅长处理输入和输出，但它们本身并不了解你的代码库结构，也不知道如何查找文件或处理复杂的多步骤任务。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/63580cffd9e1dbbcfbca9fabcc3bef97.png?x-oss-process=image/quality,q_90/rotate,0)

Claude Code 的解决之道，是为大模型提供一个轻量级的 **“约束框架” (Harness)**。通过这个框架，我们能够充分利用模型的智能，在命令行中执行复杂的编码任务。模型不再是被动地回答问题，而是主动地 **规划、获取数据、并采取行动**。

![手工川绘图：claude code system](https://poketto.oss-cn-hangzhou.aliyuncs.com/a4df3fe5fd13fc005544e627b5a17bef.png?x-oss-process=image/quality,q_90/rotate,0)


在这个系统中：
*   **模型**：是智能的核心，你可以根据任务复杂度和订阅类型选择 **Opus** 或 **Sonnet** 模型。
*   **环境**：为模型提供了行动的场所，使其能够明确需要哪些数据，制定计划，然后执行。
*   **工具与记忆**：则是我们接下来要深入探讨的关键组件，它们赋予了模型超凡的能力。

## Claude Code 的核心能力

许多人可能认为 AI 编程工具的主要用途就是编写大量代码。然而，Claude Code 最强大的功能之一，是从代码的 **发现、解释和设计** 开始的。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/986edc400a6172c8751cec330b0a5ae0.png?x-oss-process=image/quality,q_90/rotate,0)

在你开始用它编写代码之前，不妨先用它来快速熟悉一个陌生的代码库。它的能力远不止于此，涵盖了：
*   **代码编写**
*   **代码重构**
*   **错误调试**
*   **数据分析与可视化**
*   **与 GitHub 等环境集成**

## 环境准备：安装与配置

在深入实践之前，请根据以下步骤完成 Claude Code 的安装。

### 安装 Claude Code

1.  **安装 [Node.js](https://nodejs.org/en/download)**：首先确保你的系统中已安装 Node.js 环境。
2.  **全局安装 Claude Code**：打开终端，运行以下命令：
    ```bash
    npm install -g @anthropic-ai/claude-code
    ```
    *   **温馨提示**： 国内用户在通过 `npm` 安装时，可能会遇到网络连接问题。请确保您的网络环境能够正常访问相关资源，或自行配置网络代理以完成安装。更多安装指南，请参考 [官方文档](https://docs.anthropic.com/en/docs/claude-code/setup)，Windows 用户请特别关注 [Windows 安装部分](https://docs.anthropic.com/en/docs/claude-code/setup#windows-setup)。

3.  **启动 Claude Code**：
    *   **方式一 (独立终端)**：导航到你的项目文件夹，然后输入 `claude` 命令。
    *   **方式二 (VS Code 集成)**：在 VS Code 的集成终端中输入 `claude`，相关插件将会被自动安装。如果遇到问题，请确保 `code` 命令已添加到系统 PATH 中。

### 使用成本

要体验课程中的所有功能，你可以选择以下任一方式：
*   **订阅套餐**：你可以订阅 [Pro 或 Max 套餐](https://www.anthropic.com/claude-code#:~:text=Pro,Sign%20up)。完成本系列课程的学习，Pro 套餐已足够。
*   **API 按量计费**：你也可以根据 API 的使用量付费。在任何会话中，你都可以使用 `/cost` 命令来查看当前会话所产生的费用。

## 核心组件剖析：工具、搜索与记忆

### 工具使用 (Tool Use) - 赋予模型行动力

想象一下，你问模型：“某个文件里写了什么代码？” 模型本身无法浏览你的文件系统。**“工具使用”** 机制正是为了解决这个问题。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/0e94ba808dd948c1ee74ee0ab0d7d582.png?x-oss-process=image/quality,q_90/rotate,0)

Claude Code 内置了一套精简而强大的工具集，赋予了模型与本地环境交互的能力。

![Claude Code 内置工具列表](https://poketto.oss-cn-hangzhou.aliyuncs.com/f55588d920cb9a50b06f307ee2fe886b.png?x-oss-process=image/quality,q_90/rotate,0)

这些工具包括：
*   **文件读写与编辑**
*   **代码模式匹配与搜索**
*   **网络搜索**
*   **执行 Shell 命令**
*   **创建和运行子智能体** 来处理更具挑战性的任务

正是这些工具，让 Claude Code 从一个简单的问答助手，转变为一个能够自主收集信息、解决复杂问题的智能体。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/cd7553aaea8c3ab9847fe81e1baef150.png?x-oss-process=image/quality,q_90/rotate,0)

此外，Claude Code 是 **高度可扩展的**。你可以通过连接到 **MCP (Model Context Protocol) 服务器** 来为其添加更多工具。MCP 是一种开源的、模型无关的协议，允许 AI 系统与外部数据和工具轻松通信。在后续课程中，我们将学习如何利用它连接 Figma 等服务。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/1023eca732154acc9a4f10f94e543e81.png?x-oss-process=image/quality,q_90/rotate,0)

### 智能体搜索 (Agentic Search) - 安全的本地化探索

与某些需要索引整个代码库并上传到云端的工具不同，Claude Code 采用了一种名为 **“智能体搜索” (Agentic Search)** 的技术。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/a105ee24f593a90650dec2258d84fa6f.png?x-oss-process=image/quality,q_90/rotate,0)

它不会为你的代码库创建结构化的表示或嵌入索引。相反，它利用其智能体和工具集，在需要时 **主动地** 在你的本地文件系统中查找信息。这种方法的巨大优势在于：
*   **安全性高**：你的代码永远不会离开本地环境。
*   **上下文精准**：避免了将整个代码库作为上下文的低效做法。

### `CLAUDE.md` - 跨会话的持久化记忆

Claude Code 如何记住你在不同会话中的偏好和项目背景？答案是 `claude.md` 文件。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/b302ff1c4aecb6784e353817970ab5fe.png?x-oss-process=image/quality,q_90/rotate,0)

当你启动 Claude Code 时，它会自动在你的项目中寻找并加载这个 Markdown 文件。你可以将它当作一个 **项目工作笔记**，在其中定义：
*   **通用配置**
*   **代码风格指南**
*   **项目依赖说明**
*   **常用命令**

这样，Claude Code 在每次启动时都能快速进入状态，如同一个已经熟悉你项目的团队成员。所有的对话历史也都存储在本地，你可以随时清除或恢复。

## 实战演练：你的第一个 AI 程序诞生了

理论讲解之后，让我们通过一个简单的实例，直观感受 Claude Code 的工作流程。

**目标**：在一个空目录下，让 Claude Code 为我们创建一个有趣的网页可视化效果。

**第一步：启动 Claude Code**
在 VS Code 的终端中，我们进入一个空文件夹 `demo`，然后输入 `claude` 命令启动工具。

```bash
claude
```

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/3454998310c95e9ec4444d292f99706c.png?x-oss-process=image/quality,q_90/rotate,0)

**第二步：下达指令**
我们给出一个非常简单的指令：“为我创建一个很酷的可视化效果。”

```
> Make a cool visualization for me.
```

Claude Code 会立即开始思考并制定一个 **待办事项列表 (To-do list)**。它会规划创建 HTML、CSS 和 JavaScript 文件来实现这个目标。

**第三步：AI 自动编码与文件修改**
由于我们是在 VS Code 中操作，Claude Code 的集成功能会让我们清晰地看到它正在进行的文件创建和修改。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/1c59a8a371cb7cbb0345d3c81c9f35ab.png?x-oss-process=image/quality,q_90/rotate,0)

我们可以接受这些更改，并授权它在后续步骤中自动执行，无需每次都请求许可。

**第四步：运行与查看结果**
编码完成后，我们甚至可以直接让 Claude Code 帮我们打开浏览器来查看结果。

```
> Open it in the browser for me.
```


它会确认将要执行的命令，然后启动浏览器。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/e38826af07da436f587e1f18a11868ef.png?x-oss-process=image/quality,q_90/rotate,0)

瞧！一个带有粒子效果、可以交互的网页就这样诞生了。我们可以随时要求 Claude Code 对其进行修改、扩展功能，整个过程无缝且高效。

## 课程资源汇总

为了方便你跟随课程进行实践，这里是课程中涉及到的所有代码库和文件的链接：

1.  **RAG 聊天机器人项目 (课程 2-6)**
    *   [项目起始代码库](https://github.com/https-deeplearning-ai/starting-ragchatbot-codebase.git)
    *   [课程 5 结束后的代码状态](https://github.com/https-deeplearning-ai/ragchatbot-codebase.git)
2.  **电商数据分析项目 (课程 7)**
    *   [包含数据、初始 Notebook 和最终仪表盘的全部文件](https://github.com/https-deeplearning-ai/sc-claude-code-files/tree/main/lesson7_files)
3.  **Figma 设计稿转 Web 应用项目 (课程 8)**
    *   [Figma 设计稿文件 (.fig)](https://github.com/https-deeplearning-ai/sc-claude-code-files/blob/main/additional_files/key-indicators.fig) (需使用 [Figma 桌面应用](https://help.figma.com/hc/en-us/articles/5601429983767-Guide-to-the-Figma-desktop-app) 打开)
    *   [课程录制时最终生成的 Next.js 应用代码库](https://github.com/https-deeplearning-ai/FRED-dashboard.git)
4.  **课程中使用的 Prompt 及总结**
    *   你可以在这个 [代码库](https://github.com/https-deeplearning-ai/sc-claude-code-files/tree/main/reading_notes) 中找到课程所有章节使用的 Prompt 提示词和功能总结。

## 手工川结语

本期内容深入剖析了 Claude Code 作为智能体系统的核心机制：**它如何通过工具与环境交互，如何通过智能体搜索安全地理解代码，以及如何通过 `CLAUDE.md` 文件维持记忆**。最后的实战演练更是直观地展示了其强大的自动化编码能力。

从一个简单的想法到一个可运行的程序，Claude Code 展现了新一代 AI 编程助理的巨大潜力。

在下一期中，我们将更进一步，学习如何在一个更大型、更复杂的现有代码库中使用 Claude Code。敬请期待！